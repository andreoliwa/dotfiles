- name: Set up local development environment
  hosts: local
  roles:
    # Tag each role so that we can select individual roles to run with ansible-playbook --tags
    - { role: ansible, tags: ["ansible"] }
    - { role: bash, tags: ["bash"] }
    - { role: security, tags: ["security", "ssh", "gpg"] }
    - { role: git, tags: ["git"] }
    - { role: package_manager, tags: ["package_manager", "bootstrap"] }
    - { role: macos, tags: ["macos"], when: ansible_os_family == "Darwin" }

    # Tools
    - { role: gnome_do, tags: ["gnome_do", "alfred"] }
    - { role: browser, tags: ["browser"] }
    - { role: fzf, tags: ["fzf"] }
    - { role: gitup, tags: ["gitup"] }
    - { role: hub, tags: ["hub"] }
    - { role: vim, tags: ["vim"] }
    - { role: bat, tags: ["bat"] }
    - { role: tmux, tags: ["tmux"] }
    - { role: hammerspoon, tags: ["hammerspoon", "hammer"] }

    # Languages
    - { role: python_pyenv, tags: ["python"] }
    - { role: docker, tags: ["docker"] }
    - { role: vscode, tags: ["vscode"] }
    - {
        role: gantsign.visual-studio-code,
        tags: ["vscode"],
        when: ansible_os_family != "Darwin",
      }
    - { role: rust, tags: ["rust"] }
    - { role: node, tags: ["node"] }
    - { role: ruby, tags: ["ruby"] }

    # Personal and last
    - { role: organize, tags: ["organize"] }
    - { role: personal, tags: ["personal"] }
    - { role: redmine, tags: ["redmine"] }
    - { role: vagrant, tags: ["vagrant"], when: ansible_os_family == "Darwin" }
    - { role: backup, tags: ["backup"] }
