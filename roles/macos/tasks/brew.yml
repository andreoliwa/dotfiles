- name: Install common Homebrew packages
  homebrew:
    name: "{{ mac_homebrew_packages['common'] }}"
    state: latest

- name: Remove Homebrew packages
  homebrew:
    name: "{{ mac_homebrew_packages['remove'] }}"
    state: absent

- name: Install Homebrew packages on personal_laptop
  homebrew:
    name: "{{ mac_homebrew_packages['personal_laptop'] }}"
    state: latest
  when: ansible_hostname == personal_laptop and mac_homebrew_packages['personal_laptop']

- name: Remove Homebrew packages on personal_laptop
  homebrew:
    name: "{{ mac_homebrew_packages['company_laptop'] }}"
    state: absent
  when: ansible_hostname == personal_laptop and mac_homebrew_packages['company_laptop']

- name: Install Homebrew packages on company_laptop
  homebrew:
    name: "{{ mac_homebrew_packages['company_laptop'] }}"
    state: latest
  when: ansible_hostname == company_laptop and mac_homebrew_packages['company_laptop']

- name: Remove Homebrew packages on company_laptop
  homebrew:
    name: "{{ mac_homebrew_packages['personal_laptop'] }}"
    state: absent
  when: ansible_hostname == company_laptop and mac_homebrew_packages['personal_laptop']
