# https://github.com/Diaoul/subliminal
- name: "subliminal: Install with pipx"
  command: "pipx install --verbose subliminal"
  register: result
  failed_when:
    - result.rc > 0
    - "'Not installing to existing directory' not in result.stderr"

# https://github.com/smacke/ffsubsync
- name: "ffsubsync: Install dependencies with apt"
  apt:
    state: latest
    name:
      - python3-pip
      - python3-setuptools
      - python3-wheel
      - gcc
      - python3-dev
      - build-essential
      - python3-numpy
      - ffmpeg
  become: true

- name: "ffsubsync: Install with pipx"
  command: "pipx install --verbose --system-site-packages ffsubsync"
  register: result
  failed_when:
    - result.rc > 0
    - "'Not installing to existing directory' not in result.stderr"
